# Руководство пользователя API службы доставки

## Оглавление
1. [Введение](#введение)
2. [Быстрый старт](#быстрый-старт)
3. [Роли пользователей](#роли-пользователей)
4. [Работа с API](#работа-с-api)
   - [Аутентификация](#аутентификация)
   - [Управление заказами](#управление-заказами)
   - [Управление клиентами](#управление-клиентами)
   - [Управление сменами](#управление-сменами)
5. [Частые вопросы](#частые-вопросы)

## Введение

Данное руководство описывает работу с API службы доставки через Swagger UI. API предоставляет функционал для:
- Создания и управления заказами
- Работы с клиентской базой
- Управления сменами курьеров
- Отслеживания статусов доставки

## Быстрый старт

1. Откройте Swagger UI по адресу: `https://ваш-сервер/swagger`
2. Авторизуйтесь (см. раздел [Аутентификация](#аутентификация))
3. Изучите доступные методы API в соответствии с вашей ролью
4. Используйте кнопку "Try it out" для тестирования методов

## Роли пользователей

| Роль | Доступные функции |
|------|-------------------|
| **Менеджер** | Создание/редактирование заказов, управление клиентами, просмотр отчетов |
| **Курьер** | Просмотр своих смен, изменение статусов заказов |
| **Администратор** | Управление пользователями, создание смен |

## Работа с API

### Аутентификация

1. Регистрация нового пользователя:
   ```
   POST /api/User/register
   ```
   Пример запроса:
   ```json
   {
     "name": "Иванов Иван",
     "role": "Courier",
     "login": "ivanov",
     "password": "securePassword123"
   }
   ```

2. Вход в систему:
   ```
   POST /api/User/login
   ```
   Пример запроса:
   ```json
   {
     "login": "ivanov",
     "password": "securePassword123"
   }
   ```
   В ответе вы получите информацию о том, что пользователь зарегистрирован

### Управление заказами

**Создание заказа (для менеджера)**:
```
POST /api/Order
```
Пример запроса:
```json
{
  "clientId": 1,
  "deliveryAddress": "ул. Примерная, 10",
  "paymentMethod": "Cash",
  "orderItems": [
    {
      "productId": 1,
      "quantity": 2
    }
  ]
}
```

**Изменение статуса заказа**:
```
PUT /api/Order/{id}/status
```
Допустимые статусы: `New`, `InProgress`, `ReadyForDelivery`, `DeliveryInProgress`, `Delivered`, `Cancelled`

### Управление клиентами

**Добавление клиента**:
```
POST /api/Client
```
Пример запроса:
```json
{
  "name": "ООО ТехноПром",
  "contactInfo": "info@technoprom.ru",
  "address": "ул. Промышленная, 15"
}
```

### Управление сменами

**Просмотр своих смен (для курьера)**:
```
GET /api/ShiftAssignment/user/{userId}
```

**Создание смены (для администратора)**:
```
POST /api/Shift
```
Пример запроса:
```json
{
  "startTime": "2023-06-15T09:00:00",
  "endTime": "2023-06-15T18:00:00"
}
```

## Частые вопросы

**Q: Как получить список всех доступных продуктов?**
A: Используйте `GET /api/Product`

**Q: Что делать, если я забыл пароль?**
A: Обратитесь к администратору системы для сброса пароля.

**Q: Как узнать ID своего пользователя?**
A: После входа, ваш ID будет в профиле (метод `GET /api/User/{id}`)

**Q: Почему я не вижу некоторые методы API?**
A: Возможно, у вашей роли нет доступа к этим методам. Проверьте ваши права у администратора.

**Q: Как правильно форматировать даты в запросах?**
A: Используйте формат ISO 8601: `YYYY-MM-DDTHH:MM:SS` (например, `2023-06-15T14:30:00`)

---

Для дополнительной помощи обращайтесь в техническую поддержку:
Почта: werty193842@gmail.com
Телеграм: @FASTKID_VADYA
